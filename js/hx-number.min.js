/*! heroazure - v1.0.0 - 2016-03-20
* http://heroazure.github.io/
* Copyright (c) 2016 heroxiao; Licensed  */
+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("hx.number"),f="object"==typeof b&&b;e||d.data("hx.number",e=new c(this,f)),"string"==typeof b&&e[b].call(d)})}var c=function(b,d){this.$el=a(b),this.$minus=a(b).find(".js-minus"),this.$plus=a(b).find(".js-plus"),this.$input=a(b).find(".js-input"),this.options=a.extend({},c.DEFAULTS,d),this.remaind=this.options.max,a(b).on("click",".js-plus",a.proxy(this.plus,this)),a(b).on("click",".js-minus",a.proxy(this.minus,this)),a(b).on("keyup",".js-input",a.proxy(this.input,this)),a(b).on("blur",".js-input",a.proxy(this.blur,this)),this.refresh()};c.VERSION="1.0.0",c.DEFAULTS={max:10},c.prototype.plus=function(a){var b=this;if(b.refresh()){var c=parseInt(b.$input.val())+1;b.$minus.removeAttr("disabled"),c>=b.remaind&&b.$plus.prop("disabled",!0),b.$input.val(c),b.$el.trigger("end.hx.number",c),a.preventDefault()}},c.prototype.minus=function(a){var b=this;if(b.refresh()){var c=parseInt(b.$input.val())-1;b.$plus.removeAttr("disabled"),1>=c&&b.$minus.prop("disabled",!0),b.$input.val(c),b.$el.trigger("end.hx.number",c),a.preventDefault()}},c.prototype.input=function(){var a=this,b=new RegExp("^[1-9][0-9]*$"),c=a.$input.val();b.test(c)?1==c?(a.$minus.prop("disabled",!0),a.remaind<=1?a.$plus.prop("disabled",!0):a.$plus.removeAttr("disabled")):c>=a.remaind?(a.$input.val(a.remaind),a.$minus.removeAttr("disabled"),a.$plus.prop("disabled",!0)):(a.$minus.removeAttr("disabled"),a.$plus.removeAttr("disabled")):""!=c&&(a.$input.val(1),a.$minus.prop("disabled",!0),a.remaind<=1?a.$plus.prop("disabled",!0):a.$plus.removeAttr("disabled")),a.$el.trigger("end.hx.number",a.$input.val())},c.prototype.blur=function(){var a=this;""==a.$input.val()&&(a.$input.val("1"),a.$minus.prop("disabled",!0),a.remaind<=1?a.$plus.prop("disabled",!0):a.$plus.removeAttr("disabled")),a.$el.trigger("end.hx.number",num)},c.prototype.refresh=function(){var a=this,b=parseInt(a.$input.val());return b?(a.$input.val(b),!0):(a.$input.val("1"),a.$minus.prop("disabled",!0),a.remaind<=1?a.$plus.prop("disabled",!0):a.$plus.removeAttr("disabled"),!1)};var d=a.fn.hxnumber;a.fn.hxnumber=b,a.fn.hxnumber.Constructor=c,a.fn.hxnumber.noConflict=function(){return a.fn.hxnumber=d,this},a(window).on("load",function(){var c=a('[data-number="hxnumber"]');b.call(c,c.data())})}(jQuery);